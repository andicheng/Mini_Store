<div ng-controller="ordersController">
   <fieldset>
      <legend>Orders</legend>
      <p>Welcome {{currentUser.first_name}}!<p>
      <button ng-click = "logout()">Sign Out</button>
      <h3>Add a new order</h3>
      <form>
         <p>Customer</p>
         <select ng-model="order._user" >
            <option ng-repeat="user in users" value="{{user._id}}">{{user.first_name}} {{user.last_name}}</option>
         </select>
         <p>Order</p>
         <select ng-model = "order.quantity">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
         </select>
         <select ng-model="order.product">
            <option ng-repeat="product in products" value="{{product._id}}">{{product.product}}</option>
         </select>
         <input type="submit" value="Order" ng-click="newOrder()">
      </form>
      <label>filter...: <input ng-model="filter"></label>
      <table>
         <tr>
            <th>Customer Name</th>
            <th>Product</th>
            <th>Quantity</th>
            <th>Date</th>
         </tr>
         <tr ng-repeat="order in orders | filter: filter">
            <td>{{order._user.first_name}} {{order._user.last_name}}</td>
            <td>{{order.product.product}}</td>
            <td>{{order.quantity}}</td>
            <td>{{order.createdAt}}</td>
         </tr>
      </table>
   </fieldset>
</div>
